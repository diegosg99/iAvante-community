<app-navbar></app-navbar>

<!-- <app-chat></app-chat> -->

<div class="row mb-3">
    <div class="col-lg-12">
        <h1 class="logo p-5">Pregunta lo que quieras</h1>
    </div>
    <div class="row soft-white">
        <div class="col-1"></div>
        <div class="d-flex justify-content-center flex-wrap mb-3 mt-3" *ngIf="$questionSubscription | async as questions">
            <app-search class="w-100" [items]="questions" [cat]="cat" (data)="showSearched($event)"></app-search>
        </div>
        <div class="col-1"></div>
    </div>

    <nav class="col-12 row soft-white">
        <a class="col-3" style="text-align: center;" (click)="getAllQuestions()">Todos</a>
        <a class="col-3" style="text-align: center;" (click)="getCategoryQuestions('experience')">Experiencias de éxito</a>
        <a class="col-3" style="text-align: center;" (click)="getCategoryQuestions('learn')">Donde aprender más</a>
        <a class="col-3" style="text-align: center;" (click)="getCategoryQuestions('general')">Cuestiones generales</a>
    </nav>
        
    <div class="row">
        <div class="col-8 soft-white" *ngIf="searchedData as questions">
            <div class="row">
                <div class="col-1"></div>
                <section class="col-11">
                    <div class="d-flex">
                        <h2 class="montserrat mx-auto p-3">Preguntas recientes</h2>
                    </div>
                    <ul class="mb-5">
                    <li *ngFor="let question of (questions | sort: 'created_at') | paginate: { itemsPerPage: 10, currentPage: p}" class="p-2">
                        <app-question-list [question]="question"></app-question-list>
                    </li>
                    </ul>
                    <pagination-controls class="mt-3" (pageChange)="p = $event"></pagination-controls>
                </section>
            </div>
        </div>
        <div class="col-4" *ngIf="$questionSubscription | async as questions">
            <app-top-questions [questions]="questions"></app-top-questions>
        </div>
    </div>
</div>

<app-forum-new-question></app-forum-new-question>

